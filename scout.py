from evony import *
import time
from actionfactory.builder import *
from actionfactory.quest import *
from actionfatory.items import *
def createacc(server,coord=(0,0),mailguy='Joe',declarewar=(u,v)):
	declarewar=declarewar[0]+(declarewar[1]*800)
	x=Client(server)
	y=x.registernewplayer()
	builder=Builder(x)
	quest=Quest(x,castleid)
	items=Item(x,castleid)
	castleid=y['data']['player']['castles'][0]['id']
	x.client.sendmessage('common.addToFavorites',{})
	res=x.responsehandler('common.addToFavorites')
	quest.completequest(226)
	quest.completequest(226)
	builder.createbuilding(castleid,0,1)
	builder.upgradebuilding(castleid,0,1,1)
	quest.completequest(1)
	items.useitem('player.box.present.2')
	quest.completequest(2)
	quest.completequest(535)
	builder.createbuilding(castleid,1,21)
	builder.createbuilding(castleid,2,29)
	builder.createbuilding(castleid,1001,7)
	quest.completequest(15)
	builder.createbuilding(castleid,1002,4)
	quest.completequest(16)
	builder.createbuilding(castleid,1003,5)
	quest.completequest(17)
	builder.createbuilding(castleid,1004,6)
	quest.completequest(18)
	x.client.sendmessage('interior.modifyCommenceRate',{'ironrate':100,'foodrate':100,'stonerate':100,'woodrate':100,'castleId':castleid})
	res=x.responsehandler('interior.modifyCommenceRate')
	quest.completequest(19)
	quest.completequest(80)
	quest.completequest(86)
	x.client.sendmessage('interior.modifyTaxRate',{'castleId':castleid,'tax':20})
	res=x.responsehandler('interior.modifyTaxRate')
	quest.completequest(20)
	x.client.sendmessage('city.modifyCastleName',{'castleId':castleid,'name':'NO','logUrl':'images/icon/cityLogo/citylogo_01.png'})
	res=x.responsehandler('city.modifyCastleName')
	quest.completequest(21)
	x.client.sendmessage('city.modifyFlag',{'newFlag':'JO'})
	res=x.responsehandler('city.modifyFlag')
	builder.createbuilding(castleid,3,23)
	builder.speedup(castleid,'consume.2.a',3)
	quest.completequest(22)
	x.client.sendessage('trade.newTrade',{'castleid':castleid,'price':stoneprice,'tradeType':0,'amount':100000,'resType':2})
	res=x.responsehandler('trade.newTrade')
#Need to write the speed up part here
	quest.completequest(23)
	builder.upgradebuilding(castleid,1001,7,1)
	builder.upgradebuilding(castleid,1001,7,2)
	builder.upgradebuilding(castleid,1001,7,3)
	builder.speedup(castleid,'consume.2.a',1001)
	builder.upgradebuilding(castleid,1004,6,1)
	builder.upgradebuilding(castleid,1003,5,1)
	builder.upgradebuilding(castleid,1004)
	builder.speedup(castleid,'consume.2.a',1004)
	items.useitem('player.box.gambling.3')
	quest.completequest(223)
	builder.upgradebuilding(castleid,-1)
	builder.createbuilding(castleid,4,22)
	quest.completequest(111)
	builder.upgradebuilding(castleid,4)
	builder.speedup(castleid,'consume.2.a',4)
	builder.createbuilding(castleid,5,26)
	builder.speedup(castleid,'consume.2.a',5)
	quest.completequest(112)
	builder.createbuilding(castleid,-2,32)
	builder.speedup(castleid,'consume.2.a',-2)
	builder.speedup(castleid,'consume.2.a',-2)
	quest.completequest(113)
	builder.upgradebuilding(castleid,-1)
	builder.speedup(castleid,'consume.2.a',-1)
	builder.speedup(castleid,'consume.2.a',-1)
	quest.completequest(26)
	quest.completequest(194)
	builder.createbuilding(castleid,6,27)
	quest.completequest(81)
	quest.completequest(214)
	#Somehow hire hero here
	quest.coompletequest(castleid,82)
	#set mayor here
	quest.completequest(83)
	builder.upgradebuilding(castleid,-2)
	builder.speedup(castleid,'consume.2.b',-2)
	quest.completequest(114)
	builder.upgradebuilding(castleid,-1)
	builder.speedup(castleid,'consume.2.b',-1)
	quest.completequest(27)
	quest.completequest(184)
	items.useitem('player.box.present.4')
	quest.completequest(241)
	quest.completequest(536)
	quest.completequest(199)
	quest.completequest(215)
	items.useitem('player.box.special.1')
	quest.completequest(185)
	quest.completequest(215)
	quest.completequest(216)
	x.client.sendmessage('mail.sendMail',{'username':mailguy,'content':'Hey','title':'Hi'})
	res=x.responsehandler('mail.sendMail')
	quest.completequest(78)
	quest.completequest(186)
	x.client.sendmessage('common.worldChat',{'msg':'-','languageType':0})
	res=x.responsehandler('common.worldChat')
	quest.completequest(79)
	x.client.sendessage('trade.newTrade',{'castleid':castleid,'price':lumberprice,'tradeType':0,'amount':100000,'resType':1})
	res=x.responsehandler('trade.newTrade')
#Need to write the speed up part here
	builder.createbuilding(castleid,7,25)
	builder.speedup(castleid,'consume.2.a',7)
	quest.completequest(35)
	quest.completequest(210)
	builder.createbuilding(castleid,8,28)
	builder.speedup(castleid,'consume.2.a',8)
	quest.completequest(64)
	builder.createbuilding(castleid,9,2)
	quest.completequest(87)
	builder.upgradebuilding(castleid,-2)
	builder.speedup(castleid,'consume.2.b',-2)
	builder.speedup(castleid,'consume.2.b',-2)
	quest.completequest(97)
	quest.completequest(115)
	quest.completequest(211)
	builder.ugradebuilding(castleid,-1)
	builder.speedup(castleid,'consume.2.b',-1)
	builder.speedup(castleid,'consume.2.b',-1)
	quest.completequest(28)
	quest.completequest(195)
	builder.upgradebuilding(castleid,-1)
	builder.speedup(castleid,'consume.2.b.1',-1)
	builder.speedup(castleid,'consume.2.b',-1)
	builder.speedup(castleid,'consume.2.a',-1)
	builder.speedup(castleid,'consume.2.a',-1)
	items.useitem('player.box.gambling.3')
	items.useitem('player.box.gambling.3')
	quest.completequest(29)
	quest.completequest(209)
	items.buyitem('player.trick.jbqy')
	x.client.sendmessage('shop.useTrickItem',{'itemId':'player.trick.jbqy','armyId':0,'castleId':fieldid})
	res=x.responsehandler('shop.useTrickItem')
	quest.completequest(212)
	quest.completequest(552)
	items.buyitem('player.trick.bxez')
	x.client.sendmessage('shop.useTrickItem',{'itemId':'player.trick.bxez','armyId':0,'castleId':declarewar})
	res=x.responsehandler('shop.useTrickItem')
	quest.completequest(553)
	quest.completequest(553)